# 音频播放器测试指南

## 测试环境要求
- Android 设备或模拟器 (API 24+)
- 存储权限
- 音频文件 (MP3, FLAC, AAC, OGG, WAV, M4A, WMA)

## 功能测试清单

### 1. 基本功能测试

#### ✅ 启动应用
- [ ] 应用正常启动无崩溃
- [ ] 权限请求对话框正确显示
- [ ] 主界面UI加载完整

#### ✅ 文件夹添加
- [ ] 点击"+"按钮打开文件夹选择器
- [ ] 文件夹选择器能正确浏览目录结构
- [ ] 选择文件夹后创建播放列表
- [ ] 播放列表显示文件夹名称和路径

#### ✅ 播放列表管理
- [ ] 播放列表项正确显示歌曲数量
- [ ] 点击播放列表加载歌曲
- [ ] 刷新按钮能重新扫描文件夹
- [ ] 删除按钮移除播放列表

### 2. 播放控制测试

#### ✅ 播放/暂停
- [ ] 点击播放按钮开始播放
- [ ] 播放状态图标正确切换
- [ ] 暂停功能正常工作
- [ ] 播放进度实时更新

#### ✅ 进度控制
- [ ] 进度条能拖动调节
- [ ] 时间显示格式正确 (分:秒)
- [ ] 拖动后播放位置正确跳转

#### ✅ 音量控制
- [ ] 音量图标点击展开音量滑块
- [ ] 音量滑块能调节音量大小
- [ ] 音量图标根据音量大小变化

#### ✅ 播放模式
- [ ] 顺序播放模式正常工作
- [ ] 列表循环模式正常工作
- [ ] 单曲循环模式正常工作
- [ ] 模式切换图标正确更新

#### ✅ 上一首/下一首
- [ ] 上一首按钮正常工作
- [ ] 下一首按钮正常工作
- [ ] 边界情况处理正确 (第一首/最后一首)

### 3. 后台播放测试

#### ✅ 通知控制
- [ ] 播放时显示通知
- [ ] 通知包含歌曲信息
- [ ] 通知播放/暂停按钮有效
- [ ] 通知上一首/下一首按钮有效

#### ✅ 后台运行
- [ ] 应用退到后台继续播放
- [ ] 锁屏界面显示播放控制
- [ ] 从通知返回应用正常

### 4. 错误处理测试

#### ✅ 权限处理
- [ ] 拒绝权限时显示错误信息
- [ ] 权限错误信息可关闭
- [ ] 重新请求权限功能正常

#### ✅ 文件访问
- [ ] 访问空文件夹显示适当提示
- [ ] 文件夹权限不足时显示错误
- [ ] 音频文件损坏时优雅处理

#### ✅ 网络存储
- [ ] 网络存储位置访问正常
- [ ] 断开连接时显示错误
- [ ] 重新连接后自动恢复

### 5. UI/UX测试

#### ✅ 主题和样式
- [ ] 深色/浅色主题切换正常
- [ ] 动画效果流畅自然
- [ ] 当前播放歌曲高亮显示
- [ ] 按钮点击反馈明显

#### ✅ 响应式设计
- [ ] 不同屏幕尺寸适配良好
- [ ] 横竖屏切换正常
- [ ] 字体大小变化适配

#### ✅ 性能测试
- [ ] 大量歌曲列表滚动流畅
- [ ] 快速切换歌曲无延迟
- [ ] 内存使用合理无泄漏

## 测试步骤

### 步骤1: 准备测试数据
1. 在设备上创建测试音乐文件夹
2. 添加不同格式的音频文件
3. 创建子文件夹测试递归扫描

### 步骤2: 功能验证
1. 启动应用并授予权限
2. 添加音乐文件夹
3. 测试播放控制功能
4. 验证后台播放
5. 测试错误处理

### 步骤3: 边界测试
1. 测试空文件夹
2. 测试无音频文件的文件夹
3. 测试大文件夹(>1000首歌曲)
4. 测试特殊字符文件名

## 预期结果

所有功能测试项都应该通过，应用应该：
- 稳定运行无崩溃
- 响应用户操作
- 正确处理各种边界情况
- 提供良好的用户体验

## 问题报告

如发现问题，请记录：
1. 问题描述
2. 复现步骤
3. 设备信息(型号、Android版本)
4. 错误日志(如可用)
5. 预期vs实际结果